[
  {
    "url": "https://api.github.com/repos/quarnster/SublimeClang/issues/comments/7915996",
    "html_url": "https://github.com/quarnster/SublimeClang/issues/120#issuecomment-7915996",
    "issue_url": "https://api.github.com/repos/quarnster/SublimeClang/issues/120",
    "id": 7915996,
    "user": {
      "login": "anatol",
      "id": 7032,
      "avatar_url": "https://secure.gravatar.com/avatar/1c46e952a61c99d9eae4f21037a088fd?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-user-420.png",
      "gravatar_id": "1c46e952a61c99d9eae4f21037a088fd",
      "url": "https://api.github.com/users/anatol",
      "html_url": "https://github.com/anatol",
      "followers_url": "https://api.github.com/users/anatol/followers",
      "following_url": "https://api.github.com/users/anatol/following",
      "gists_url": "https://api.github.com/users/anatol/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/anatol/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/anatol/subscriptions",
      "organizations_url": "https://api.github.com/users/anatol/orgs",
      "repos_url": "https://api.github.com/users/anatol/repos",
      "events_url": "https://api.github.com/users/anatol/events{/privacy}",
      "received_events_url": "https://api.github.com/users/anatol/received_events",
      "type": "User"
    },
    "created_at": "2012-08-21T21:00:19Z",
    "updated_at": "2012-08-21T21:10:10Z",
    "body": "I probably see the same issue when I try to use SublimeClang for linux kernel on Ubuntu 12.04.\n\nIn the console I see a lot 'tu is None...' messages, and in clang/cindex.py mentod TranslationUnit_parse() returns void pointer. It means clang API cannot parse it correctly.\n\n```\nsublime_text: /home/anatol/.config/sublime-text-2/Packages/SublimeClang/src/build/llvm/tools/clang/lib/Lex/PreprocessingRecord.cpp:256: clang::PreprocessingRecord::PPEntityID clang::PreprocessingRecord::addPreprocessedEntity(clang::PreprocessedEntity*): Assertion `(PreprocessedEntities.empty() || !SourceMgr.isBeforeInTranslationUnit(BeginLoc, PreprocessedEntities.back()->getSourceRange().getBegin())) && \"a macro directive was encountered out-of-order\"' failed.\nlibclang: crash detected during parsing: {\n  'source_filename' : '(null)'\n  'command_line_args' : ['-I/home/anatol/.config/sublime-text-2/Packages/SublimeClang/clang/include', '-D__KERNEL__', '-Wall', '-Wundef', '-Wstrict-prototypes', '-include /home/anatol/sources/kernel3/include/generated/autoconf.h', '-I/home/anatol/sources/kernel3/include/', '-I/home/anatol/sources/kernel3/arch/x86/include/', '-x', 'c++', '/home/anatol/sources/kernel3/fs/fuse/fuse_i.h'],\n  'unsaved_files' : [],\n  'options' : 13,\n}\n```"
  },
  {
    "url": "https://api.github.com/repos/quarnster/SublimeClang/issues/comments/7925148",
    "html_url": "https://github.com/quarnster/SublimeClang/issues/120#issuecomment-7925148",
    "issue_url": "https://api.github.com/repos/quarnster/SublimeClang/issues/120",
    "id": 7925148,
    "user": {
      "login": "quarnster",
      "id": 1230389,
      "avatar_url": "https://secure.gravatar.com/avatar/10a89302c6736c988ce06d8a41c923c0?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-user-420.png",
      "gravatar_id": "10a89302c6736c988ce06d8a41c923c0",
      "url": "https://api.github.com/users/quarnster",
      "html_url": "https://github.com/quarnster",
      "followers_url": "https://api.github.com/users/quarnster/followers",
      "following_url": "https://api.github.com/users/quarnster/following",
      "gists_url": "https://api.github.com/users/quarnster/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/quarnster/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/quarnster/subscriptions",
      "organizations_url": "https://api.github.com/users/quarnster/orgs",
      "repos_url": "https://api.github.com/users/quarnster/repos",
      "events_url": "https://api.github.com/users/quarnster/events{/privacy}",
      "received_events_url": "https://api.github.com/users/quarnster/received_events",
      "type": "User"
    },
    "created_at": "2012-08-22T05:39:51Z",
    "updated_at": "2012-08-22T05:39:51Z",
    "body": "A crash in libclang is not a SublimeClang issue. Try opening up a bug in [llvm's bug tracker](http://llvm.org/bugs/)."
  },
  {
    "url": "https://api.github.com/repos/quarnster/SublimeClang/issues/comments/7935356",
    "html_url": "https://github.com/quarnster/SublimeClang/issues/120#issuecomment-7935356",
    "issue_url": "https://api.github.com/repos/quarnster/SublimeClang/issues/120",
    "id": 7935356,
    "user": {
      "login": "anatol",
      "id": 7032,
      "avatar_url": "https://secure.gravatar.com/avatar/1c46e952a61c99d9eae4f21037a088fd?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-user-420.png",
      "gravatar_id": "1c46e952a61c99d9eae4f21037a088fd",
      "url": "https://api.github.com/users/anatol",
      "html_url": "https://github.com/anatol",
      "followers_url": "https://api.github.com/users/anatol/followers",
      "following_url": "https://api.github.com/users/anatol/following",
      "gists_url": "https://api.github.com/users/anatol/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/anatol/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/anatol/subscriptions",
      "organizations_url": "https://api.github.com/users/anatol/orgs",
      "repos_url": "https://api.github.com/users/anatol/repos",
      "events_url": "https://api.github.com/users/anatol/events{/privacy}",
      "received_events_url": "https://api.github.com/users/anatol/received_events",
      "type": "User"
    },
    "created_at": "2012-08-22T14:12:05Z",
    "updated_at": "2012-08-22T14:12:05Z",
    "body": "Done http://llvm.org/bugs/show_bug.cgi?id=13665\n\nActually this is weird, because I can run 'clang myfile..' from command line. It means it can parse sources file. Why libclang fails then?"
  },
  {
    "url": "https://api.github.com/repos/quarnster/SublimeClang/issues/comments/7935898",
    "html_url": "https://github.com/quarnster/SublimeClang/issues/120#issuecomment-7935898",
    "issue_url": "https://api.github.com/repos/quarnster/SublimeClang/issues/120",
    "id": 7935898,
    "user": {
      "login": "quarnster",
      "id": 1230389,
      "avatar_url": "https://secure.gravatar.com/avatar/10a89302c6736c988ce06d8a41c923c0?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-user-420.png",
      "gravatar_id": "10a89302c6736c988ce06d8a41c923c0",
      "url": "https://api.github.com/users/quarnster",
      "html_url": "https://github.com/quarnster",
      "followers_url": "https://api.github.com/users/quarnster/followers",
      "following_url": "https://api.github.com/users/quarnster/following",
      "gists_url": "https://api.github.com/users/quarnster/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/quarnster/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/quarnster/subscriptions",
      "organizations_url": "https://api.github.com/users/quarnster/orgs",
      "repos_url": "https://api.github.com/users/quarnster/repos",
      "events_url": "https://api.github.com/users/quarnster/events{/privacy}",
      "received_events_url": "https://api.github.com/users/quarnster/received_events",
      "type": "User"
    },
    "created_at": "2012-08-22T14:28:30Z",
    "updated_at": "2012-08-22T14:28:30Z",
    "body": "As it's an assert rather than a crash, maybe it's not an issue with pure release builds. The default build type used by the SublimeClang build system is \"RelWithDebInfo\" which might not disable asserts, so one thing to try is to recompile libclang with the build type as \"Release\" and see if it goes away. Something like:\n\n```\ncd <SublimeClang directory>/src/build/llvm/build\ncmake -DCMAKE_BUILD_TYPE=Release ..\nmake -j 8 libclang\ncp lib/liblibclang.so.3.1 ../../../../libclang.so\n```\n"
  },
  {
    "url": "https://api.github.com/repos/quarnster/SublimeClang/issues/comments/7938500",
    "html_url": "https://github.com/quarnster/SublimeClang/issues/120#issuecomment-7938500",
    "issue_url": "https://api.github.com/repos/quarnster/SublimeClang/issues/120",
    "id": 7938500,
    "user": {
      "login": "anatol",
      "id": 7032,
      "avatar_url": "https://secure.gravatar.com/avatar/1c46e952a61c99d9eae4f21037a088fd?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-user-420.png",
      "gravatar_id": "1c46e952a61c99d9eae4f21037a088fd",
      "url": "https://api.github.com/users/anatol",
      "html_url": "https://github.com/anatol",
      "followers_url": "https://api.github.com/users/anatol/followers",
      "following_url": "https://api.github.com/users/anatol/following",
      "gists_url": "https://api.github.com/users/anatol/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/anatol/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/anatol/subscriptions",
      "organizations_url": "https://api.github.com/users/anatol/orgs",
      "repos_url": "https://api.github.com/users/anatol/repos",
      "events_url": "https://api.github.com/users/anatol/events{/privacy}",
      "received_events_url": "https://api.github.com/users/anatol/received_events",
      "type": "User"
    },
    "created_at": "2012-08-22T15:41:04Z",
    "updated_at": "2012-08-22T15:41:04Z",
    "body": "I followed your instructions and the issue still exists.\n\nLooking at the bugzilla I see that there are several bugs/crashes were fixed recently in clang_parseTranslationUnit. Frederik, I am trying to build Clang from HEAD and see if it helps.\n"
  },
  {
    "url": "https://api.github.com/repos/quarnster/SublimeClang/issues/comments/7939166",
    "html_url": "https://github.com/quarnster/SublimeClang/issues/120#issuecomment-7939166",
    "issue_url": "https://api.github.com/repos/quarnster/SublimeClang/issues/120",
    "id": 7939166,
    "user": {
      "login": "anatol",
      "id": 7032,
      "avatar_url": "https://secure.gravatar.com/avatar/1c46e952a61c99d9eae4f21037a088fd?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-user-420.png",
      "gravatar_id": "1c46e952a61c99d9eae4f21037a088fd",
      "url": "https://api.github.com/users/anatol",
      "html_url": "https://github.com/anatol",
      "followers_url": "https://api.github.com/users/anatol/followers",
      "following_url": "https://api.github.com/users/anatol/following",
      "gists_url": "https://api.github.com/users/anatol/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/anatol/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/anatol/subscriptions",
      "organizations_url": "https://api.github.com/users/anatol/orgs",
      "repos_url": "https://api.github.com/users/anatol/repos",
      "events_url": "https://api.github.com/users/anatol/events{/privacy}",
      "received_events_url": "https://api.github.com/users/anatol/received_events",
      "type": "User"
    },
    "created_at": "2012-08-22T16:00:24Z",
    "updated_at": "2012-08-22T16:00:24Z",
    "body": "Just compiling libclang.so from HEAD does not help. I see \"It looks like libcache.so couldn't be loaded\"."
  },
  {
    "url": "https://api.github.com/repos/quarnster/SublimeClang/issues/comments/7940082",
    "html_url": "https://github.com/quarnster/SublimeClang/issues/120#issuecomment-7940082",
    "issue_url": "https://api.github.com/repos/quarnster/SublimeClang/issues/120",
    "id": 7940082,
    "user": {
      "login": "quarnster",
      "id": 1230389,
      "avatar_url": "https://secure.gravatar.com/avatar/10a89302c6736c988ce06d8a41c923c0?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-user-420.png",
      "gravatar_id": "10a89302c6736c988ce06d8a41c923c0",
      "url": "https://api.github.com/users/quarnster",
      "html_url": "https://github.com/quarnster",
      "followers_url": "https://api.github.com/users/quarnster/followers",
      "following_url": "https://api.github.com/users/quarnster/following",
      "gists_url": "https://api.github.com/users/quarnster/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/quarnster/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/quarnster/subscriptions",
      "organizations_url": "https://api.github.com/users/quarnster/orgs",
      "repos_url": "https://api.github.com/users/quarnster/repos",
      "events_url": "https://api.github.com/users/quarnster/events{/privacy}",
      "received_events_url": "https://api.github.com/users/quarnster/received_events",
      "type": "User"
    },
    "created_at": "2012-08-22T16:26:35Z",
    "updated_at": "2012-08-22T16:26:35Z",
    "body": "Try compiling libcache again but linking with the new libclang.so"
  },
  {
    "url": "https://api.github.com/repos/quarnster/SublimeClang/issues/comments/7940789",
    "html_url": "https://github.com/quarnster/SublimeClang/issues/120#issuecomment-7940789",
    "issue_url": "https://api.github.com/repos/quarnster/SublimeClang/issues/120",
    "id": 7940789,
    "user": {
      "login": "anatol",
      "id": 7032,
      "avatar_url": "https://secure.gravatar.com/avatar/1c46e952a61c99d9eae4f21037a088fd?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-user-420.png",
      "gravatar_id": "1c46e952a61c99d9eae4f21037a088fd",
      "url": "https://api.github.com/users/anatol",
      "html_url": "https://github.com/anatol",
      "followers_url": "https://api.github.com/users/anatol/followers",
      "following_url": "https://api.github.com/users/anatol/following",
      "gists_url": "https://api.github.com/users/anatol/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/anatol/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/anatol/subscriptions",
      "organizations_url": "https://api.github.com/users/anatol/orgs",
      "repos_url": "https://api.github.com/users/anatol/repos",
      "events_url": "https://api.github.com/users/anatol/events{/privacy}",
      "received_events_url": "https://api.github.com/users/anatol/received_events",
      "type": "User"
    },
    "created_at": "2012-08-22T16:47:19Z",
    "updated_at": "2012-08-22T16:47:19Z",
    "body": "Just did it and the original problem still exists\n```\n$ objdump -x libclang.so | grep SONAME\n  SONAME               libclang.so.3.2\n```\n\n\n```\nsublime_text: /home/anatol/sources/opensource/llvm/tools/clang/lib/Lex/PreprocessingRecord.cpp:256: clang::PreprocessingRecord::PPEntityID clang::PreprocessingRecord::addPreprocessedEntity(clang::PreprocessedEntity*): Assertion `(PreprocessedEntities.empty() || !SourceMgr.isBeforeInTranslationUnit(BeginLoc, PreprocessedEntities.back()->getSourceRange().getBegin())) && \"a macro directive was encountered out-of-order\"' failed.\nlibclang: crash detected during parsing: {\n  'source_filename' : '(null)'\n  'command_line_args' : ['-D__KERNEL__', '-Wall', '-Wundef', '-Wstrict-prototypes', '-include /home/anatol/sources/kernel3/include/generated/autoconf.h', '-I/home/anatol/sources/kernel3/include/', '-I/home/anatol/sources/kernel3/arch/x86/include/', '-I/home/anatol/sources/kernel3/arch/x86/include/generated', '-x', 'c', '/home/anatol/sources/kernel3/fs/efs/file.c'],\n  'unsaved_files' : [],\n  'options' : 13,\n}\n```\n\n"
  },
  {
    "url": "https://api.github.com/repos/quarnster/SublimeClang/issues/comments/8317256",
    "html_url": "https://github.com/quarnster/SublimeClang/issues/120#issuecomment-8317256",
    "issue_url": "https://api.github.com/repos/quarnster/SublimeClang/issues/120",
    "id": 8317256,
    "user": {
      "login": "anatol",
      "id": 7032,
      "avatar_url": "https://secure.gravatar.com/avatar/1c46e952a61c99d9eae4f21037a088fd?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-user-420.png",
      "gravatar_id": "1c46e952a61c99d9eae4f21037a088fd",
      "url": "https://api.github.com/users/anatol",
      "html_url": "https://github.com/anatol",
      "followers_url": "https://api.github.com/users/anatol/followers",
      "following_url": "https://api.github.com/users/anatol/following",
      "gists_url": "https://api.github.com/users/anatol/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/anatol/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/anatol/subscriptions",
      "organizations_url": "https://api.github.com/users/anatol/orgs",
      "repos_url": "https://api.github.com/users/anatol/repos",
      "events_url": "https://api.github.com/users/anatol/events{/privacy}",
      "received_events_url": "https://api.github.com/users/anatol/received_events",
      "type": "User"
    },
    "created_at": "2012-09-05T23:11:54Z",
    "updated_at": "2012-09-05T23:11:54Z",
    "body": "I was able to compile clang without Assertions by following this document http://llvm.org/docs/GettingStarted.html\n\nHere is the command that build llvm+clang with make\nmake ENABLE_OPTIMIZED=1 DISABLE_ASSERTIONS=1\n\nThen I put libclang.so to SublimeClang and the issue above disappeared (although there are some other issues with compiling linux kernel with clang).\n\n@jasedit Try to compile the *.so file or get one for Ubuntu 12.04 from here https://github.com/anatol/SublimeClang"
  }
]
